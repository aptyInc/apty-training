<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DOM Practice with Iframes and Shadow Roots</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      line-height: 1.6;
    }
    h1 {
      color: #333;
    }
    .section {
      border: 1px solid #ddd;
      margin-bottom: 20px;
      padding: 15px;
      border-radius: 8px;
      background-color: #f9f9f9;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: 1px solid #ccc;
      margin-top: 15px;
    }
    .box {
      width: 200px;
      height: 100px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #ddd;
      border-radius: 8px;
      text-align: center;
    }
    .box.active {
      background-color: lightgreen;
      color: white;
      font-weight: bold;
    }
    .external-link {
      color: #007BFF;
      text-decoration: none;
    }
    .external-link:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <h1 id="main-heading">Original Heading</h1>

  <!-- Section: Image -->
  <div class="section">
    <h2>Parent Page - Update Image Source</h2>
    <img id="main-image" src="https://via.placeholder.com/150" alt="Placeholder Image">
  </div>

  <!-- Section: Paragraph -->
  <div class="section">
    <h2>Parent Page - Style Modification</h2>
    <p id="main-paragraph">This is a paragraph to be styled dynamically.</p>
  </div>

  <!-- Section: Toggle Classes -->
  <div class="section">
    <h2>Parent Page - Toggle Classes</h2>
    <div class="box" id="main-box">Parent Box</div>
    <button id="toggle-parent-box-btn">Toggle Parent Box</button>
  </div>

  <!-- Section: External Link -->
  <div class="section">
    <h2>Parent Page - Dynamic Link Update</h2>
    <a class="external-link" href="#" id="main-link">Original Parent Link</a>
  </div>

  <!-- Iframe Section -->
  <div class="section">
    <h2>Iframe Content</h2>
    <iframe id="iframe1" srcdoc="
      <!DOCTYPE html>
      <html lang='en'>
      <head>
        <style>
          body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
          }
          .box {
            width: 200px;
            height: 100px;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #ddd;
            border-radius: 8px;
            text-align: center;
          }
          .box.active {
            background-color: lightcoral;
            color: white;
            font-weight: bold;
          }
          .external-link {
            color: #007BFF;
            text-decoration: none;
          }
          .external-link:hover {
            text-decoration: underline;
          }
        </style>
      </head>
      <body>
        <h1 id='iframe-heading'>Iframe Heading</h1>
        <img id='iframe-image' src='https://via.placeholder.com/100' alt='Iframe Placeholder Image'>
        <p id='iframe-paragraph'>This is a paragraph inside the iframe.</p>
        <div class='box' id='iframe-box'>Iframe Box</div>
        <a class='external-link' href='#' id='iframe-link'>Original Iframe Link</a>
      </body>
      </html>
    "></iframe>
  </div>

  <!-- Shadow Root Section -->
  <div class="section">
    <h2>Shadow DOM Content</h2>
    <div id="shadow-host"></div>
  </div>

  <script>
    // 1. Main - Change Heading Text

    const heading_change = document.getElementById('main-heading')
    heading_change.textContent = 'Welcome to the DOM Practice!'

    // 2. Main - Update Image Source

    const image_change = document.getElementById('main-image')
    image_change.src = 'https://via.placeholder.com/200'


    // 3. Main - Style Modification

    const para_change = document.getElementById('main-paragraph')
    para_change.style.color = 'blue'
    para_change.style.fontSize = '18px'
    para_change.style.backgroundColor = 'light gray'

    // 4. Main - Toggle Classes

    const div_toggle = document.getElementById('main-box')
    const toggle_button = document.getElementById('toggle-parent-box-btn')
    toggle_button.addEventListener('click', () => {
        div_toggle.classList.toggle('active')
    })

    // 5. Main - Dynamic Link Update

    const anchor_element = document.getElementById('main-link')
    anchor_element.href = 'https://example.com'
    anchor_element.textContent = 'Visit Example'

    // Access Iframe Content for above above functionality

    const iframe = document.getElementById('iframe1')
    iframe.addEventListener('load', () => {
      const iframeDocument = iframe.contentDocument || iframe.contentWindow.document

      iframeDocument.getElementById('iframe-heading').textContent = 'Welcome to the Iframe!'
      iframeDocument.getElementById('iframe-image').src = 'https://via.placeholder.com/150'
      const iframeParagraph = iframeDocument.getElementById('iframe-paragraph')
      iframeParagraph.style.color = 'blue'
      iframeParagraph.style.fontSize = '18px'
      iframeParagraph.style.backgroundColor = 'lightgray'

      const iframeBox = iframeDocument.getElementById('iframe-box')
      iframe.classList.toggle('active')

      const iframeLink = iframeDocument.getElementById('iframe-link')
      iframeLink.href = 'https://example.com'
      iframeLink.textContent = 'Visit Example'

    })

    // Shadow Root Content

    const shadowHost = document.getElementById('shadow-host')
    const shadowRoot = shadowHost.attachShadow({mode: 'open'})
    shadowRoot.innerHTML = `<style>
        h1 {
          color: black;
        }
        p {
          color: purple;
        }
        a {
          color: #007BFF;
          text-decoration: none;
        }
        a:hover {
          text-decoration: underline;
        }
      </style>
      <h1>Shadow DOM Heading</h1>
      <p>This is a paragraph inside the Shadow DOM</p>
      <a href="https://example.com" class="external-link">Visit Shadow DOM Example</a>
    `
  </script>
</body>
</html>
